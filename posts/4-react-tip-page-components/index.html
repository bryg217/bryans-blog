<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Tip - (Dumb) Page Components</title>
    <meta name="description" content="Small mindset shift that&#39;s made my life a whole lot easier.">
    <link rel="stylesheet" href="/bryans-blog/css/index.css">
    <link rel="stylesheet" href="/bryans-blog/css/prism-base16-monokai.dark.css">
    <link rel="alternate" href="/bryans-blog/feed/feed.xml" type="application/atom+xml" title="Bryan&#39;s Blog">
    <link rel="alternate" href="/bryans-blog/feed/feed.json" type="application/json" title="Bryan&#39;s Blog">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/bryans-blog/">Bryan&#39;s Blog</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/bryans-blog/">Home</a></li>
        <li class="nav-item"><a href="/bryans-blog/about/">About</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>React Tip - (Dumb) Page Components</h1>

<time datetime="2021-10-25">25 Oct 2021</time><a href="/bryans-blog/tags/hard-skills/" class="post-tag">Hard Skills</a><a href="/bryans-blog/tags/react/" class="post-tag">React</a>

<h2 id="description" tabindex="-1">Description <a class="direct-link" href="#description" aria-hidden="true">#</a></h2>
<p>In this post, I'd like to share a small shift in mindset that made a big difference.  This small shift is related to the way I think about components and their pages, and thus, it affected how I now develop them.  It's a shift that has allowed me to <strong>write higher quality code</strong> and <strong>enjoy the process</strong> (my job) a whole lot more.</p>
<p>So if writing &quot;better&quot; code and enjoying the process sounds like something you are interested in, keep reading.</p>
<h2 id="the-problem" tabindex="-1">The Problem <a class="direct-link" href="#the-problem" aria-hidden="true">#</a></h2>
<p>I remember first being introduced to React components; it was mind blowing.  I was now able to reason about and work on smaller units of a UI,  which made my life much simpler.  React really did (and still does do) a great job of allowing me to express my components as (mostly) declarative code.  For example, I could think about a Twitter post and write/express that as a function (or class in the good ol' days) -- really awesome stuff.  However, for some reason, I always stopped &quot;there&quot;; meaning, I thought of these components as part of some scary big thing called a page.</p>
<p>I would think about components living within a page, which meant that a page was just a group of smaller components in it, and that, of course, still is true.  But, what is not true, is that the code has to technically reflect that.</p>
<p>Take the following example, we have a <code>Post</code> component and a <code>Home</code> component.</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><br>  text<br><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>post<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> text<span class="token operator">:</span> <span class="token string">'Hello world'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token punctuation">{</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Post</span></span> <span class="token attr-name">text</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>text<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>Now, in the real world, <code>Home</code> would be a little more complex, because we have to get that data from the server.  So, it would look like (and mind you this is mostly pseudo-code):</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token punctuation">[</span>posts<span class="token punctuation">,</span> setPosts<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token function">fetchPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token function">setPosts</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token punctuation">{</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Post</span></span> <span class="token attr-name">text</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>text<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>Now, the code above is fine -- <strong>it works</strong>.  But, the development workflow isn't at all the best.</p>
<p>See, the problem with this is that: <strong>We need a full blown app to be running</strong> (i.e. front end, back end api, etc.).</p>
<p>And for those of you that haven't made this mistake, the problem with needing a full blown app to test a page out is that <strong>it's more complex than it needs to be</strong>.  I need to make sure that the DB is setup, API is setup, etc.</p>
<p>Given the issues described above, enter a simpler way to live as front end developer.</p>
<h2 id="hey-pages-can-be-components-too" tabindex="-1">Hey, Pages Can Be Components Too <a class="direct-link" href="#hey-pages-can-be-components-too" aria-hidden="true">#</a></h2>
<p>Now, we can see how developing a page component, as we did above, can be complex.  Instead, we need to try to keep our lives as simple as possible -- enter isolation.</p>
<p>Rather than thinking about state, fetching data from server, and more, it's best to just think about having a UI look like what the designer(s) intended.  And to do this (drum roll please): <strong>I like to approach developing pages in the same way I develop components</strong>.</p>
<p>Now, what does this look like?</p>
<p>This means thinking of your &quot;core&quot; page as a component, and developing it in the same way you do for something like a button.</p>
<p>Here is what that looks like, using the &quot;home&quot; example above:</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token comment">// Refactor of Home.jsx</span><br><br><span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><br>  posts<br><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token punctuation">{</span>posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Post</span></span> <span class="token attr-name">text</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>posts<span class="token punctuation">.</span>text<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">function</span> <span class="token function">HomeWrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token punctuation">[</span>posts<span class="token punctuation">,</span> setPosts<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token function">fetchPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token function">setPosts</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">)</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">></span></span><span class="token plain-text"><br>      </span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Home</span></span> <span class="token attr-name">posts</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>posts<span class="token punctuation">}</span></span><span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text"><br>    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">></span></span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>Now, notice that I've implemented a <strong>HomeWrapper</strong>, which handles the getting of data, setting of that data, and finally, passing it down to the core page component.  This is what I meant by &quot;dumb&quot; in the title.</p>
<p>The core page component is <strong>responsible for simply rendering data from the API</strong>.  It is not responsible for doing what the wrapper does now (hence, my nickname for &quot;dumb&quot;).</p>
<p>This does a few things:</p>
<ol>
<li>Your Focus: Now, rather than juggling 3+ variables in your head, you're focused on just getting the layout to work as you intend.  You also get to see what that data might look like, which will allow you to communicate with back end development much more effectively too.</li>
<li>Component Focus: Your component adheres a bit more to SRP (single responsibility principle).  Rather than doing 3+ things, it simply takes data in from a wrapper.</li>
<li>Decoupled From APIs: Now, I can use a tool like Storybook to easily develop these pages and then share them with the team.  ALL WITHOUT HAVING TO BUILD AN APPLICATION.</li>
</ol>
<p>There are many more benefits, but those are the top ones in my experience.</p>
<p>So again, the key takeaway for today's post is: <strong>think about your page as you would other components -- to a degree</strong>.  Of course, this is nuanced and you need to know how and when to apply it.  But, that is a topic for another discussion.  =)</p>
<h2 id="closing-thoughts" tabindex="-1">Closing Thoughts <a class="direct-link" href="#closing-thoughts" aria-hidden="true">#</a></h2>
<p>There you have it: another tool for your metaphorical tool belt.</p>
<p>As I always say, I don't take an opinionated stance, and surely, there are other patterns that may be more effective.  But again, this is something that has proven useful in my journey.  And now, I hope it helps you on yours.</p>
<p>If you find that I made a mistake, missed something, something needs to be corrected or, you just want to just reach out, definitely feel free to do so at <a href="mailto:bguillen95@gmail.com">bguillen95@gmail.com</a>.</p>
<p>All the best.</p>

<hr>
<ul><li>Previous: <a href="/bryans-blog/posts/3-problem-solving/">3 Step Framework For Solving CS Problems</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /bryans-blog/posts/4-react-tip-page-components/ -->
  </body>
</html>
